<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="frap.css">
<link rel="stylesheet" type="text/css" href="stylex.css">
<script src='https://bevacqua.github.io/dragula/dist/dragula.js'></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
</head>
<body>
<div class="loader">
	<div class="loader-inner">
		<div class="loader-line-wrap">
			<div class="loader-line"></div>
		</div>
		<div class="loader-line-wrap">
			<div class="loader-line"></div>
		</div>
		<div class="loader-line-wrap">
			<div class="loader-line"></div>
		</div>
		<div class="loader-line-wrap">
			<div class="loader-line"></div>
		</div>
		<div class="loader-line-wrap">
			<div class="loader-line"></div>
		</div>
	</div>
</div>

<div class="container">
	<button id="changeBg">Change</button>
	<script src="bg.js"></script>



	<div class="row">
	  <div class="column">
		<h2>Column 1</h2>
		<p>Some text..</p>
	  </div>
	  <div class="column">
		<div class="card">
		test
		</div>
	  </div>
	</div>
</div>
<script type="text/javascript">
const imageUrl = "http://orig00.deviantart.net/acb6/f/2013/303/7/6/gif___running_through_the_rain_by_turst67-d6scius.gif";
let bgElement = document.querySelector(".container");
bgElement.classList.add("loading");
let preloaderImg = document.createElement("img");
preloaderImg.src = imageUrl;

preloaderImg.addEventListener('load', (event) => {
  bgElement.classList.remove("loading");
  bgElement.classList.add("loaded");
  //bgElement.style.backgroundImage = `url(${imageUrl})`;
  preloaderImg = null;
  document.body.style.backgroundImage = `url(${imageUrl})`;
  document.querySelector('.loader').style.display = 'none';
});
</script>