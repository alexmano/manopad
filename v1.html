<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <style>
	body{background-color: #f0f4f7 !important;}
	input[type=checkbox]:checked + label.strikethrough{
		text-decoration: line-through;
	}
	.mark {
		cursor: pointer !important;
	}
	.hidden {
		visibility: hidden !important;
	}
	.nodisplay {
		display: none !important;
	}
	.taskitem {
		padding: 10px !important;
	}
  </style>
  
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.7/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="frap.css">
 <body>
 
 <script src='https://bevacqua.github.io/dragula/dist/dragula.js'></script>
 <br/>
 
 		<div class="ui raised  container"> 
			<div class="ui stackable four column grid">
				<div class="sixteen wide mobile eight wide tablet two wide computer column">
					<h4 class="ui header">
						<i class="green sitemap link icon"></i>
						<div class="ui content green">
							<span href="#" class="ui text green">ManoPad
							<div class="sub header">task notes</div>
							</span>						
						</div>
					</h4>
				</div>
		</div>		
		</div>
 <div class="ui raised container segment">
 <div class="column">
				<div class="ui pointing menu">
  <a class="item">
   <i class="target green icon"></i> Goals
  </a>
  <a class="item active">
   <i class="tasks green icon"></i> Tasks
  </a>
  <a class="item">
   <i class="clipboard green icon"></i> Notes
  </a>  
  <a class="item">
    <i class="sync  green icon"></i> Schedules
  </a>  
  <a class="item">
    <i class="bug green icon"></i> Reports
  </a>  
  <div class="right menu">
    <div class="item">
      <div class="ui transparent icon input">
        <input type="text" placeholder="Search...">
        <i class="search link green icon"></i>
      </div>
    </div>
  </div>
</div>
					<div id="todos" class="ui container mobile">					
							<div id="notask"class="ui placeholder segment">	
								 <div class="ui icon header">
									<i class="tasks green icon"></i>
									<p class="ui text">Create your task list</p>
								</div>
								<div class="ui action input">
								  <input type="text" class="newtask" placeholder="Add new task...">
								  <button class="ui icon button green addnewai">
									<i class="add icon"></i>
								  </button>
								</div>	

							<div class="ui divider"></div>
							<div id="left-lovehandles" class="container">
							
							
								
								
								
								</div>								
							</div>
					</div>
		</div>
	</div>
</div>
</div>
						

<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.7/dist/semantic.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
 <script type="text/javascript">
 dragula([document.getElementById('left-lovehandles')], {
  moves: function (el, container, handle) {
    return handle.classList.contains('handle');
  }
});

// *** For existing task items
$('.taskitem').hover(
	function() {$(this).children('.icon').removeClass('hidden');},
	function() {$(this).children('.icon').addClass('hidden');});
var _toDoIndex = 1;

// *** Add new task
$('.addnewai').click(function() {
	let input = $(this).parent().find('input');
	
	if(input.val().length > 2 ) {
		/*$(this).parent().parent().parent().find('#left-lovehandles').append('<div class="taskitem"><i class="hamburger icon handle link hidden"></i> <i class="right link close icon hidden"></i> <i class="right link edit icon configaction hidden"></i><div class="ui checkbox"><input type="checkbox" name="example" id="todo_'+_toDoIndex+'"><label for="todo_'+_toDoIndex+'" class="strikethrough mark">'+input.val()+'</label></div></div>');
		*/
		
		$(this).parent().parent().parent().find('#left-lovehandles').append('<div class="taskitem"><i class="hamburger icon handle green link hidden"></i> <i class="right link green close icon hidden"></i> 						   <i class="right link  green edit icon configaction hidden"></i>							   <div class="ui checkbox"><div class="ui card" style="border-left:3px solid  #21ba45;">									 <div class="content">										<input type="checkbox" name="example" id="todo_'+_toDoIndex+'"><label for="todo_'+_toDoIndex+'" class="strikethrough mark"><span contenteditable class="ui large text">'+input.val()+'</span></label>			<p></p>										<div class="meta">										   <span><i class="clock alternate green link icon"></i> Recurrent</span>										   										   <span><i class="bell alternate  green link icon"></i> Reminder</span>										   										   <span><i class="copy  green link icon"></i> Duplicate</span>										   										</div>																			 </div>								  </div>							   </div>							</div>	');
		
		input.parent().removeClass('error');
		input.val('');
		_toDoIndex++;
	} else {
		input.parent().addClass('error');
		console.log('validation');
	}
	$('.taskitem').hover(
	function() {$(this).children('.icon').removeClass('hidden');},
	function() {$(this).children('.icon').addClass('hidden');});
});

// *** Add new task by ENTER key
$('.newtask').keypress(function( event ) {
  if ( event.which == 13 ) {
     $(this).parent().find('.addnewai').click();
  }
});






</script>